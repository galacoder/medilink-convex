{
  "issue_number": 49,
  "title": "M0-4: Woodpecker CI — 6-Stage Pipeline",
  "state": "OPEN",
  "labels": ["type:scaffold","priority:high","milestone:M0","area:infra"],
  "milestone": "M0: Infrastructure Setup",
  "has_structured_requirements": true,
  "user_stories": ["As platform_admin, I want automated 6-stage CI pipeline so every code change is validated before merging"],
  "acceptance_criteria": [
    ".woodpecker.yml with 6 stages: lint+typecheck+build → tests → smoke → E2E → VRT → summary",
    "Stage 1: pnpm lint && pnpm typecheck && pnpm build pass",
    "Stage 2: pnpm test (Vitest unit tests)",
    "Stage 3: Smoke test (app starts, health endpoint responds)",
    "Stage 4: Playwright E2E tests (placeholder)",
    "Stage 5: VRT screenshot comparison (placeholder)",
    "Stage 6: Summary report (pass/fail counts, badge)",
    "Pipeline triggers on push to main and PRs",
    "Pipeline completes under 5 minutes for stages 1-3",
    "TypeScript types pass pnpm typecheck with zero errors in CI"
  ],
  "files_to_create": [
    ".woodpecker.yml",
    "apps/web/src/app/api/health/route.ts"
  ],
  "files_to_modify": [
    "turbo.json"
  ],
  "dependencies": {"depends_on": "#46 (M0-1)", "blocks": "none"},
  "effort": {"story_points": 3, "t_shirt": "S"},
  "repo": "galacoder/medilink-convex"
}
